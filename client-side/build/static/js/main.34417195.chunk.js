(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{291:function(e,t,n){},473:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return qe}));var c=n(37),r=n.n(c),i=(n(287),n(288),n(289),n(290),n(291),n(489)),a=n(0),o=n(21),s=n(16),l=n(46),j=n(24),d=n.n(j),u=n(52),b=n(15),h=n(17),O=n(14),x=n(36),p=n.n(x),v=n(133),m=function(e){return new Promise((function(t){setTimeout(t,e)}))};p.a.defaults.baseURL="http://localhost:5000/api",p.a.interceptors.request.use((function(e){var t=M.commonStore.token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),p.a.interceptors.response.use(function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(1e3);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data,c=t.status,r=t.config;switch(c){case 400:if("string"===typeof n&&v.b.error(n),"get"===r.method&&n.errors.hasOwnProperty("id")&&qe.push("/not-found"),n.errors){var i=[];for(var a in n.errors)n.errors[a]&&i.push(n.errors[a]);throw i.flat()}break;case 401:v.b.error("Unauthorised");break;case 404:qe.push("/not-found");break;case 500:M.commonStore.setServerError(n),qe.push("/server-error")}return Promise.reject(e)}));var f=function(e){return e.data},g=function(e){return p.a.get(e).then(f)},y=function(e,t){return p.a.post(e,t).then(f)},w=function(e,t){return p.a.put(e,t).then(f)},A=function(e){return p.a.delete(e).then(f)},k={Activities:{list:function(){return g("/activities")},details:function(e){return g("/activities/".concat(e))},create:function(e){return y("/activities",e)},update:function(e){return w("/activities/".concat(e.id),e)},delete:function(e){return A("/activities/".concat(e))}},Account:{getCurrent:function(){return g("/account")},login:function(e){return y("/account/login",e)},register:function(e){return y("/account/register",e)}}},S=n(475),C=function(){function e(){var t=this;Object(b.a)(this,e),this.activityRegistry=new Map,this.selectedActivity=void 0,this.editMode=!1,this.loading=!1,this.loadingInitial=!1,this.getActivity=function(e){return t.activityRegistry.get(e)},this.setActivity=function(e){e.date=new Date(e.date),t.activityRegistry.set(e.id,e)},this.loadActivities=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingInitial=!0,e.prev=1,e.next=4,k.Activities.list();case 4:n=e.sent,Object(O.h)((function(){n.forEach((function(e){t.setActivity(e)})),t.loadingInitial=!1})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),Object(O.h)((function(){t.loadingInitial=!1}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),this.loadActivity=function(){var e=Object(u.a)(d.a.mark((function e(n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=t.getActivity(n))){e.next=6;break}return t.selectedActivity=c,e.abrupt("return",c);case 6:t.loadingInitial=!0;case 7:return e.prev=7,e.next=10,k.Activities.details(n);case 10:return c=e.sent,t.setActivity(c),t.selectedActivity=c,Object(O.h)((function(){t.loadingInitial=!1})),e.abrupt("return",c);case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0),Object(O.h)((function(){t.loadingInitial=!1}));case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}(),this.createActivity=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,k.Activities.create(n);case 4:Object(O.h)((function(){t.activityRegistry.set(n.id,n),t.selectedActivity=n,t.editMode=!1,t.loading=!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),Object(O.h)((function(){t.loading=!1}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),this.updateActivity=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,k.Activities.update(n);case 4:Object(O.h)((function(){t.activityRegistry.set(n.id,n),t.selectedActivity=n,t.editMode=!1,t.loading=!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),Object(O.h)((function(){t.loading=!1}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteActivity=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,k.Activities.delete(n);case 4:Object(O.h)((function(){t.activityRegistry.delete(n),t.loading=!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),Object(O.h)((function(){t.loading=!1}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Object(O.d)(this)}return Object(h.a)(e,[{key:"activitiesByDate",get:function(){return Array.from(this.activityRegistry.values()).sort((function(e,t){return e.date.getTime()-t.date.getTime()}))}},{key:"groupedActivities",get:function(){return Object.entries(this.activitiesByDate.reduce((function(e,t){var n=Object(S.default)(t.date,"dd MMM yyyy");return e[n]=e[n]?[].concat(Object(l.a)(e[n]),[t]):[t],e}),{}))}}]),e}(),I=function(){function e(){var t=this;Object(b.a)(this,e),this.user=null,this.login=function(){var e=Object(u.a)(d.a.mark((function e(n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Account.login(n);case 3:c=e.sent,M.commonStore.setToken(c.token),Object(O.h)((function(){t.user=c})),qe.push("/activities"),M.modalStore.closeModal(),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){M.commonStore.setToken(null),window.localStorage.removeItem("jwt"),t.user=null,qe.push("/")},this.getUser=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Account.getCurrent();case 3:n=e.sent,Object(O.h)((function(){t.user=n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.register=function(){var e=Object(u.a)(d.a.mark((function e(n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Account.register(n);case 3:c=e.sent,M.commonStore.setToken(c.token),Object(O.h)((function(){t.user=c})),qe.push("/activities"),M.modalStore.closeModal(),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Object(O.d)(this)}return Object(h.a)(e,[{key:"isLoggedIn",get:function(){return!!this.user}}]),e}(),M={activityStore:new C,commonStore:new function e(){var t=this;Object(b.a)(this,e),this.error=null,this.token=window.localStorage.getItem("jwt"),this.appLoaded=!1,this.setServerError=function(e){t.error=e},this.setToken=function(e){t.token=e},this.setAppLoaded=function(){t.appLoaded=!0},Object(O.d)(this),Object(O.g)((function(){return t.token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}))},userStore:new I,modalStore:new function e(){var t=this;Object(b.a)(this,e),this.modal={open:!1,body:null},this.openModal=function(e){t.modal.open=!0,t.modal.body=e},this.closeModal=function(){t.modal.open=!1,t.modal.body=null},Object(O.d)(this)}},T=Object(a.createContext)(M);function F(){return Object(a.useContext)(T)}var R=n(22),E=n(492),L=n(500),D=n(272),z=n(141),q=n(1),N=Object(s.a)((function(){var e=F().userStore,t=e.user,n=e.logout;return Object(q.jsx)(E.a,{inverted:!0,fixed:"top",children:Object(q.jsxs)(i.a,{children:[Object(q.jsxs)(E.a.Item,{as:R.b,to:"/",exact:!0,header:!0,children:[Object(q.jsx)("img",{src:"/assets/logo.png",alt:"logo",style:{marginRight:"10px"}}),"React and DotNet"]}),Object(q.jsx)(E.a.Item,{as:R.b,to:"/activities",name:"Activities"}),Object(q.jsx)(E.a.Item,{as:R.b,to:"/errors",name:"Errors"}),Object(q.jsx)(E.a.Item,{children:Object(q.jsx)(L.a,{as:R.b,to:"/createActivity",positive:!0,content:"Create Activity"})}),Object(q.jsxs)(E.a.Item,{position:"right",children:[Object(q.jsx)(D.a,{src:(null===t||void 0===t?void 0:t.image)||"/assets/user.png",avatar:!0,spaced:"right"}),Object(q.jsx)(z.a,{pointing:"top left",text:null===t||void 0===t?void 0:t.displayName,children:Object(q.jsxs)(z.a.Menu,{children:[Object(q.jsx)(z.a.Item,{as:R.a,to:"/profile/".concat(null===t||void 0===t?void 0:t.userName),text:"My Profile",icon:"user"}),Object(q.jsx)(z.a.Item,{onClick:n,text:"Logout",icon:"power"})]})})]})]})})})),B=n(506),P=n(263),G=n(501),H=n(490),V=function(e){var t=e.inverted,n=void 0===t||t,c=e.content,r=void 0===c?"Loading...":c;return Object(q.jsx)(G.a,{active:!0,inverted:n,children:Object(q.jsx)(H.a,{content:r})})},U=n(271),J=n(503),W=function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(E.a,{vertical:!0,size:"large",style:{width:"100%",marginTop:26},children:[Object(q.jsx)(J.a,{icon:"filter",attached:!0,color:"teal",content:"Filters"}),Object(q.jsx)(E.a.Item,{content:"All Activities"}),Object(q.jsx)(E.a.Item,{content:"I'm Going"}),Object(q.jsx)(E.a.Item,{content:"I'm Hosting"})]}),Object(q.jsx)(J.a,{}),Object(q.jsx)(U.a,{})]})},K=n(29),Q=n(504),X=n(495),Y=n(86),Z=function(e){var t=e.activity;return Object(q.jsxs)(Q.a.Group,{children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(X.a.Group,{children:Object(q.jsxs)(X.a,{children:[Object(q.jsx)(X.a.Image,{size:"tiny",circular:!0,src:"/assets/user.png"}),Object(q.jsxs)(X.a.Content,{children:[Object(q.jsx)(X.a.Header,{as:R.a,to:"/activities/".concat(t.id),children:t.title}),Object(q.jsx)(X.a.Description,{children:"Hosted by Bob"})]})]})})}),Object(q.jsx)(Q.a,{children:Object(q.jsxs)("span",{children:[Object(q.jsx)(Y.a,{name:"clock",color:"teal"})," ",Object(S.default)(t.date,"dd MMM yyyy h:mm aa"),Object(q.jsx)(Y.a,{name:"marker",color:"teal"})," ",t.venue]})}),Object(q.jsx)(Q.a,{secondary:!0,children:"Attendees go here"}),Object(q.jsxs)(Q.a,{clearing:!0,children:[Object(q.jsx)("span",{children:t.description}),Object(q.jsx)(L.a,{as:R.a,to:"/activities/".concat(t.id),color:"teal",floated:"right",content:"View"})]})]})},$=Object(s.a)((function(){var e=F().activityStore.groupedActivities;return Object(q.jsx)(q.Fragment,{children:e.map((function(e){var t=Object(K.a)(e,2),n=t[0],c=t[1];return Object(q.jsxs)(a.Fragment,{children:[Object(q.jsx)(J.a,{sub:!0,color:"teal",children:n}),c.map((function(e){return Object(q.jsx)(Z,{activity:e},e.id)}))]},n)}))})})),_=Object(s.a)((function(){var e=F().activityStore,t=e.loadActivities,n=e.activityRegistry,c=e.loadingInitial;return Object(a.useEffect)((function(){n.size<=1&&t()}),[n,t]),c?Object(q.jsx)(V,{content:"loading activities..."}):Object(q.jsxs)(B.a,{children:[Object(q.jsx)(P.a,{width:"10",children:Object(q.jsx)($,{})}),Object(q.jsx)(P.a,{width:"6",children:Object(q.jsx)(W,{})})]})})),ee=n(31),te=n(178),ne=n(47),ce=n(493),re=function(e){var t=Object(ee.d)(e.name),n=Object(K.a)(t,2),c=n[0],r=n[1];return Object(q.jsxs)(ce.a.Field,{error:r.touched&&!!r.error,children:[Object(q.jsx)("label",{children:e.label}),Object(q.jsx)("input",Object(ne.a)(Object(ne.a)({},c),e)),r.touched&&r.error?Object(q.jsx)(te.a,{basic:!0,color:"red",children:r.error}):null]})},ie=Object(s.a)((function(){var e=F().userStore;return Object(q.jsx)(ee.c,{initialValues:{email:"",password:"",error:null},onSubmit:function(t,n){var c=n.setErrors;return e.login(t).catch((function(e){return c({error:"Invalid email or password"})}))},children:function(e){var t=e.handleSubmit,n=e.isSubmitting,c=e.errors;return Object(q.jsxs)(ee.b,{className:"ui form",onSubmit:t,autoComplete:"off",children:[Object(q.jsx)(J.a,{as:"h2",content:"Login to react and dotnet",color:"teal",textAlign:"center"}),Object(q.jsx)(re,{name:"email",placeholder:"Email"}),Object(q.jsx)(re,{name:"password",placeholder:"Password",type:"password"}),Object(q.jsx)(ee.a,{name:"error",render:function(){return Object(q.jsx)(te.a,{style:{marginBottom:10},basic:!0,color:"red",content:c.error})}}),Object(q.jsx)(L.a,{loading:n,positive:!0,content:"Login",type:"submit",fluid:!0})]})}})})),ae=n(42),oe=n(498),se=function(e){var t=e.errors;return Object(q.jsx)(oe.a,{error:!0,children:t&&Object(q.jsx)(oe.a.List,{children:t.map((function(e,t){return Object(q.jsx)(oe.a.Item,{children:e},t)}))})})},le=Object(s.a)((function(){var e=F().userStore;return Object(q.jsx)(ee.c,{initialValues:{displayName:"",userName:"",email:"",password:"",error:null},onSubmit:function(t,n){var c=n.setErrors;return e.register(t).catch((function(e){return c({error:e})}))},validationSchema:ae.a({displayName:ae.b().required(),userName:ae.b().required(),email:ae.b().required().email(),password:ae.b().required()}),children:function(e){var t=e.handleSubmit,n=e.isSubmitting,c=e.errors,r=e.isValid,i=e.dirty;return Object(q.jsxs)(ee.b,{className:"ui form error",onSubmit:t,autoComplete:"off",children:[Object(q.jsx)(J.a,{as:"h2",content:"Sign up to react and dotnet",color:"teal",textAlign:"center"}),Object(q.jsx)(re,{name:"displayName",placeholder:"Display Name"}),Object(q.jsx)(re,{name:"userName",placeholder:"Username"}),Object(q.jsx)(re,{name:"email",placeholder:"Email"}),Object(q.jsx)(re,{name:"password",placeholder:"Password",type:"password"}),Object(q.jsx)(ee.a,{name:"error",render:function(){return Object(q.jsx)(se,{errors:c.error})}}),Object(q.jsx)(L.a,{disabled:!r||!i||n,loading:n,positive:!0,content:"Register",type:"submit",fluid:!0})]})}})})),je=Object(s.a)((function(){var e=F(),t=e.userStore,n=e.modalStore;return Object(q.jsx)(Q.a,{inverted:!0,textAlign:"center",vertical:!0,className:"masthead",children:Object(q.jsxs)(i.a,{text:!0,children:[Object(q.jsxs)(J.a,{as:"h1",inverted:!0,children:[Object(q.jsx)(D.a,{size:"massive",src:"/assets/logo.png",alt:"logo",style:{marginBottom:12}}),"React And Dotnet"]}),t.isLoggedIn?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(J.a,{as:"h2",inverted:!0,content:"Welcome To React and Dotnet"}),Object(q.jsx)(L.a,{as:R.a,to:"/activities",size:"huge",inverted:!0,content:"Go to the activities!"})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(L.a,{onClick:function(){return n.openModal(Object(q.jsx)(ie,{}))},size:"huge",inverted:!0,children:"Login!"}),Object(q.jsx)(L.a,{onClick:function(){return n.openModal(Object(q.jsx)(le,{}))},size:"huge",inverted:!0,children:"Register!"})]})]})})})),de=n(499),ue=function(e){var t=Object(ee.d)(e.name),n=Object(K.a)(t,2),c=n[0],r=n[1];return Object(q.jsxs)(ce.a.Field,{error:r.touched&&!!r.error,children:[Object(q.jsx)("label",{children:e.label}),Object(q.jsx)("textarea",Object(ne.a)(Object(ne.a)({},c),e)),r.touched&&r.error?Object(q.jsx)(te.a,{basic:!0,color:"red",children:r.error}):null]})},be=n(491),he=function(e){var t=Object(ee.d)(e.name),n=Object(K.a)(t,3),c=n[0],r=n[1],i=n[2];return Object(q.jsxs)(ce.a.Field,{error:r.touched&&!!r.error,children:[Object(q.jsx)("label",{children:e.label}),Object(q.jsx)(be.a,{clearable:!0,options:e.options,value:c.value||null,onChange:function(e,t){return i.setValue(t.value)},onBlur:function(){return i.setTouched(!0)},placeholder:e.placeholder}),r.touched&&r.error?Object(q.jsx)(te.a,{basic:!0,color:"red",children:r.error}):null]})},Oe=[{text:"Drinks",value:"drinks"},{text:"Culture",value:"culture"},{text:"Film",value:"film"},{text:"Food",value:"food"},{text:"Music",value:"music"},{text:"Travel",value:"travel"}],xe=n(268),pe=n.n(xe),ve=function(e){var t=Object(ee.d)(e.name),n=Object(K.a)(t,3),c=n[0],r=n[1],i=n[2];return Object(q.jsxs)(ce.a.Field,{error:r.touched&&!!r.error,children:[Object(q.jsx)(pe.a,Object(ne.a)(Object(ne.a)(Object(ne.a)({},c),e),{},{selected:c.value&&new Date(c.value)||null,onChange:function(e){return i.setValue(e)}})),r.touched&&r.error?Object(q.jsx)(te.a,{basic:!0,color:"red",children:r.error}):null]})},me=Object(s.a)((function(){var e=F().activityStore,t=e.createActivity,n=e.updateActivity,c=e.loading,r=e.loadActivity,i=e.loadingInitial,s=Object(o.h)().id,l=Object(o.f)(),j=Object(a.useState)({id:"",title:"",category:"",description:"",date:null,city:"",venue:""}),d=Object(K.a)(j,2),u=d[0],b=d[1],h=ae.a({title:ae.b().required("The Activity Title Is Required"),description:ae.b().required("The Activity Description Is Required"),category:ae.b().required(),date:ae.b().required("A Date Is Required").nullable(),venue:ae.b().required(),city:ae.b().required()});Object(a.useEffect)((function(){s&&r(s).then((function(e){return b(e)}))}),[s,r]);return i?Object(q.jsx)(V,{content:"Loading Activity..."}):Object(q.jsxs)(Q.a,{clearing:!0,children:[Object(q.jsx)(J.a,{content:"Activity Details",sub:!0,color:"teal"}),Object(q.jsx)(ee.c,{initialValues:u,onSubmit:function(e){return function(e){if(0===e.id.length){var c=Object(ne.a)(Object(ne.a)({},e),{},{id:Object(de.a)()});t(c).then((function(){return l.push("/activities/".concat(c.id))}))}else n(e).then((function(){return l.push("/activities/".concat(e.id))}))}(e)},enableReinitialize:!0,validationSchema:h,children:function(e){var t=e.handleSubmit,n=e.isValid,r=e.isSubmitting,i=e.dirty;return Object(q.jsxs)(ee.b,{className:"ui form",onSubmit:t,autoComplete:"off",children:[Object(q.jsx)(re,{name:"title",placeholder:"Title"}),Object(q.jsx)(ue,{rows:3,placeholder:"Description",name:"description"}),Object(q.jsx)(he,{options:Oe,placeholder:"Category",name:"category"}),Object(q.jsx)(ve,{placeholderText:"Date",name:"date",showTimeSelect:!0,timeCaption:"Time",dateFormat:"MMMM d, yyyy h:mm aa"}),Object(q.jsx)(J.a,{content:"Location Details",sub:!0,color:"teal"}),Object(q.jsx)(re,{placeholder:"City",name:"city"}),Object(q.jsx)(re,{placeholder:"Venue",name:"venue"}),Object(q.jsx)(L.a,{disabled:r||!i||!n,floated:"right",positive:!0,type:"submit",content:"Submit",loading:c}),Object(q.jsx)(L.a,{as:R.a,to:"/activities",floated:"right",type:"button",content:"Cancel"})]})}})]})})),fe=n(494),ge=Object(s.a)((function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Q.a,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"},children:Object(q.jsx)(J.a,{children:"Chat about this event"})}),Object(q.jsx)(Q.a,{attached:!0,children:Object(q.jsxs)(fe.a.Group,{children:[Object(q.jsxs)(fe.a,{children:[Object(q.jsx)(fe.a.Avatar,{src:"/assets/user.png"}),Object(q.jsxs)(fe.a.Content,{children:[Object(q.jsx)(fe.a.Author,{as:"a",children:"Matt"}),Object(q.jsx)(fe.a.Metadata,{children:Object(q.jsx)("div",{children:"Today at 5:42PM"})}),Object(q.jsx)(fe.a.Text,{children:"How artistic!"}),Object(q.jsx)(fe.a.Actions,{children:Object(q.jsx)(fe.a.Action,{children:"Reply"})})]})]}),Object(q.jsxs)(fe.a,{children:[Object(q.jsx)(fe.a.Avatar,{src:"/assets/user.png"}),Object(q.jsxs)(fe.a.Content,{children:[Object(q.jsx)(fe.a.Author,{as:"a",children:"Joe Henderson"}),Object(q.jsx)(fe.a.Metadata,{children:Object(q.jsx)("div",{children:"5 days ago"})}),Object(q.jsx)(fe.a.Text,{children:"Dude, this is awesome. Thanks so much"}),Object(q.jsx)(fe.a.Actions,{children:Object(q.jsx)(fe.a.Action,{children:"Reply"})})]})]}),Object(q.jsxs)(ce.a,{reply:!0,children:[Object(q.jsx)(ce.a.TextArea,{}),Object(q.jsx)(L.a,{content:"Add Reply",labelPosition:"left",icon:"edit",primary:!0})]})]})})]})})),ye={filter:"brightness(30%)"},we={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"},Ae=Object(s.a)((function(e){var t=e.activity;return Object(q.jsxs)(Q.a.Group,{children:[Object(q.jsxs)(Q.a,{basic:!0,attached:"top",style:{padding:"0"},children:[Object(q.jsx)(D.a,{src:"/assets/categoryImages/".concat(t.category,".jpg"),fluid:!0,style:ye}),Object(q.jsx)(Q.a,{style:we,basic:!0,children:Object(q.jsx)(X.a.Group,{children:Object(q.jsx)(X.a,{children:Object(q.jsxs)(X.a.Content,{children:[Object(q.jsx)(J.a,{size:"huge",content:t.title,style:{color:"white"}}),Object(q.jsx)("p",{children:Object(S.default)(t.date,"dd MMM yyyy")}),Object(q.jsxs)("p",{children:["Hosted by ",Object(q.jsx)("strong",{children:"Bob"})]})]})})})})]}),Object(q.jsxs)(Q.a,{clearing:!0,attached:"bottom",children:[Object(q.jsx)(L.a,{color:"teal",children:"Join Activity"}),Object(q.jsx)(L.a,{children:"Cancel attendance"}),Object(q.jsx)(L.a,{as:R.a,to:"/manage/".concat(t.id),color:"orange",floated:"right",children:"Manage Event"})]})]})})),ke=Object(s.a)((function(e){var t=e.activity;return Object(q.jsxs)(Q.a.Group,{children:[Object(q.jsx)(Q.a,{attached:"top",children:Object(q.jsxs)(B.a,{children:[Object(q.jsx)(B.a.Column,{width:1,children:Object(q.jsx)(Y.a,{size:"large",color:"teal",name:"info"})}),Object(q.jsx)(B.a.Column,{width:15,children:Object(q.jsx)("p",{children:t.description})})]})}),Object(q.jsx)(Q.a,{attached:!0,children:Object(q.jsxs)(B.a,{verticalAlign:"middle",children:[Object(q.jsx)(B.a.Column,{width:1,children:Object(q.jsx)(Y.a,{name:"calendar",size:"large",color:"teal"})}),Object(q.jsx)(B.a.Column,{width:15,children:Object(q.jsx)("span",{children:Object(S.default)(t.date,"dd MMM yyyy h:mm aa")})})]})}),Object(q.jsx)(Q.a,{attached:!0,children:Object(q.jsxs)(B.a,{verticalAlign:"middle",children:[Object(q.jsx)(B.a.Column,{width:1,children:Object(q.jsx)(Y.a,{name:"marker",size:"large",color:"teal"})}),Object(q.jsx)(B.a.Column,{width:11,children:Object(q.jsxs)("span",{children:[t.venue,", ",t.city]})})]})})]})})),Se=n(496),Ce=Object(s.a)((function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Q.a,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal",children:"3 People Going"}),Object(q.jsx)(Q.a,{attached:!0,children:Object(q.jsxs)(Se.a,{relaxed:!0,divided:!0,children:[Object(q.jsxs)(X.a,{style:{position:"relative"},children:[Object(q.jsx)(te.a,{style:{position:"absolute"},color:"orange",ribbon:"right",children:"Host"}),Object(q.jsx)(D.a,{size:"tiny",src:"/assets/user.png"}),Object(q.jsxs)(X.a.Content,{verticalAlign:"middle",children:[Object(q.jsx)(X.a.Header,{as:"h3",children:Object(q.jsx)(R.a,{to:"#",children:"Bob"})}),Object(q.jsx)(X.a.Extra,{style:{color:"orange"},children:"Following"})]})]}),Object(q.jsxs)(X.a,{style:{position:"relative"},children:[Object(q.jsx)(D.a,{size:"tiny",src:"/assets/user.png"}),Object(q.jsxs)(X.a.Content,{verticalAlign:"middle",children:[Object(q.jsx)(X.a.Header,{as:"h3",children:Object(q.jsx)(R.a,{to:"#",children:"Tom"})}),Object(q.jsx)(X.a.Extra,{style:{color:"orange"},children:"Following"})]})]}),Object(q.jsxs)(X.a,{style:{position:"relative"},children:[Object(q.jsx)(D.a,{size:"tiny",src:"/assets/user.png"}),Object(q.jsx)(X.a.Content,{verticalAlign:"middle",children:Object(q.jsx)(X.a.Header,{as:"h3",children:Object(q.jsx)(R.a,{to:"#",children:"Sally"})})})]})]})})]})})),Ie=Object(s.a)((function(){var e=F().activityStore,t=e.selectedActivity,n=e.loadActivity,c=e.loadingInitial,r=Object(o.h)().id;return Object(a.useEffect)((function(){r&&n(r)}),[r,n]),c||!t?Object(q.jsx)(V,{}):Object(q.jsxs)(B.a,{children:[Object(q.jsxs)(B.a.Column,{width:10,children:[Object(q.jsx)(Ae,{activity:t}),Object(q.jsx)(ke,{activity:t}),Object(q.jsx)(ge,{})]}),Object(q.jsx)(B.a.Column,{width:6,children:Object(q.jsx)(Ce,{})})]})})),Me=function(){var e=Object(a.useState)(null),t=Object(K.a)(e,2),n=t[0],c=t[1],r="http://localhost:5000/api/";return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(J.a,{as:"h1",content:"Test Error component"}),Object(q.jsx)(Q.a,{children:Object(q.jsxs)(L.a.Group,{widths:"7",children:[Object(q.jsx)(L.a,{onClick:function(){p.a.get(r+"buggy/not-found").catch((function(e){return console.log(e.response)}))},content:"Not Found",basic:!0,primary:!0}),Object(q.jsx)(L.a,{onClick:function(){p.a.get(r+"buggy/bad-request").catch((function(e){return console.log(e.response)}))},content:"Bad Request",basic:!0,primary:!0}),Object(q.jsx)(L.a,{onClick:function(){p.a.post(r+"activities",{}).catch((function(e){return c(e)}))},content:"Validation Error",basic:!0,primary:!0}),Object(q.jsx)(L.a,{onClick:function(){p.a.get(r+"buggy/server-error").catch((function(e){return console.log(e.response)}))},content:"Server Error",basic:!0,primary:!0}),Object(q.jsx)(L.a,{onClick:function(){p.a.get(r+"buggy/unauthorised").catch((function(e){return console.log(e.response)}))},content:"Unauthorised",basic:!0,primary:!0}),Object(q.jsx)(L.a,{onClick:function(){p.a.get(r+"activities/notaguid").catch((function(e){return console.log(e)}))},content:"Bad Guid",basic:!0,primary:!0})]})}),n&&Object(q.jsx)(se,{errors:n})]})},Te=function(){return Object(q.jsxs)(Q.a,{placeholder:!0,children:[Object(q.jsxs)(J.a,{icon:!0,children:[Object(q.jsx)(Y.a,{name:"search"}),"Sorry - we've looked everywhere and could not find this..."]}),Object(q.jsx)(Q.a.Inline,{children:Object(q.jsx)(L.a,{as:R.a,to:"/activities",primary:!0,children:"Return to activities page"})})]})},Fe=Object(s.a)((function(){var e,t,n=F().commonStore;return Object(q.jsxs)(i.a,{children:[Object(q.jsx)(J.a,{as:"h1",content:"Server Error"}),Object(q.jsx)(J.a,{sub:!0,as:"h5",color:"red",content:null===(e=n.error)||void 0===e?void 0:e.message}),(null===(t=n.error)||void 0===t?void 0:t.stackTrace)&&Object(q.jsxs)(Q.a,{children:[Object(q.jsx)(J.a,{as:"h4",content:"Stack Trace",color:"teal"}),Object(q.jsx)("code",{style:{marginTop:"10px"},children:n.error.stackTrace})]})]})})),Re=n(497),Ee=Object(s.a)((function(){var e=F().modalStore;return Object(q.jsx)(Re.a,{open:e.modal.open,onClose:e.closeModal,size:"mini",children:Object(q.jsx)(Re.a.Content,{children:e.modal.body})})})),Le=Object(s.a)((function(){var e=Object(o.g)(),t=F(),n=t.commonStore,c=t.userStore;return Object(a.useEffect)((function(){n.token?c.getUser().finally((function(){return n.setAppLoaded()})):n.setAppLoaded()}),[n,c]),n.appLoaded?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(v.a,{position:"bottom-right",hideProgressBar:!0}),Object(q.jsx)(Ee,{}),Object(q.jsx)(o.a,{exact:!0,path:"/",component:je}),Object(q.jsx)(o.a,{path:"/(.+)",render:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(N,{}),Object(q.jsx)(i.a,{style:{marginTop:"7em"},children:Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{exact:!0,path:"/activities",component:_}),Object(q.jsx)(o.a,{path:"/activities/:id",component:Ie}),Object(q.jsx)(o.a,{path:["/createActivity","/manage/:id"],component:me},e.key),Object(q.jsx)(o.a,{path:"/errors",component:Me}),Object(q.jsx)(o.a,{path:"/server-error",component:Fe}),Object(q.jsx)(o.a,{path:"/login",component:ie}),Object(q.jsx)(o.a,{component:Te})]})})]})}})]}):Object(q.jsx)(V,{content:"Loading app..."})})),De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,507)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},ze=n(41),qe=Object(ze.a)();r.a.render(Object(q.jsx)(T.Provider,{value:M,children:Object(q.jsx)(o.b,{history:qe,children:Object(q.jsx)(Le,{})})}),document.getElementById("root")),De()}},[[473,1,2]]]);
//# sourceMappingURL=main.34417195.chunk.js.map